# API Reference: `@arifwidianto/dawai-stdio`

This section provides a detailed API reference for the `@arifwidianto/dawai-stdio` package. This package provides the `StdioTransportAdapter` for building command-line interface (CLI) applications with the Dawai framework.

## Overview

`@arifwidianto/dawai-stdio` allows you to:
*   Expose service methods as CLI commands using the `@Cli` decorator.
*   Parse command-line arguments automatically.
*   Validate arguments using Zod schemas.
*   Support interactive (readline prompt) and one-shot command execution.
*   Inject `StdioContext` for direct access to `stdin`, `stdout`, `stderr`, and parsed `argv`.

## Key Components

### `StdioTransportAdapter`
*   **Description**: The transport adapter responsible for handling CLI interactions. It parses `process.argv`, routes commands to appropriate handlers, and manages interactive mode.
*   **Configuration**: Configured via the `stdio` property in `MicroserviceOptions` (see `StdioOptions` in `@arifwidianto/dawai-common`).
    *   `enabled: boolean`
    *   `options: { interactive?: boolean, prompt?: string }`

### `StdioContext`
*   **Description**: The context object injected into CLI handlers using `@Ctx()`.
*   **Properties**:
    *   `stdin: NodeJS.ReadStream`: The standard input stream.
    *   `stdout: NodeJS.WriteStream`: The standard output stream.
    *   `stderr: NodeJS.WriteStream`: The standard error stream.
    *   `argv: string[]`: Raw command-line arguments.
    *   `parsedArgs: Record<string, any>`: Parsed arguments (often what `@Body()` injects).
    *   `isInteractive: boolean`: Indicates if the CLI is in interactive mode.
    *   `exit(code?: number): void`: Method to exit the CLI application.

### Decorators (from `@arifwidianto/dawai-common`)
*   **`@stdio(options?: StdioDecoratorOptions)` (Class Decorator)**: Enables and configures STDIO transport for a service.
*   **`@Cli(options: CliHandlerOptions)` (Method Decorator)**: Defines a service method as a CLI command.
    *   `command: string`: The command string (e.g., `my-command --option <value>`).
    *   `description?: string`: Description for help messages.
    *   `schema?: ZodSchema`: Schema for validating arguments.
    *   `aliases?: string[]`: Command aliases.

## Detailed API Documentation

*(This section is intended to be populated with more detailed descriptions, possibly generated by TypeDoc or written manually. For now, it serves as a placeholder.)*

### `StdioOptions` (from `@arifwidianto/dawai-common`)
*   Detailed breakdown of all configuration options for the STDIO transport.

### `CliHandlerOptions` (from `@arifwidianto/dawai-common`)
*   Detailed breakdown of all options for the `@Cli` decorator.

---

*Further details will be added here, potentially linking to auto-generated TypeDoc documentation for comprehensive API coverage.*
