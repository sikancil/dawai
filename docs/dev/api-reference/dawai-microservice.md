# API Reference: `@arifwidianto/dawai-microservice`

This section provides a detailed API reference for the `@arifwidianto/dawai-microservice` package. This package is the heart of the Dawai framework, providing the `Microservice` class and the `AbstractTransportAdapter`.

## Overview

`@arifwidianto/dawai-microservice` includes:
*   **`Microservice` Class**: The main class for creating and managing a Dawai application. It handles service registration, transport adapter management, and the application lifecycle.
*   **`AbstractTransportAdapter` Class**: The base class for all transport adapters. Custom adapters must extend this class.
*   Core interfaces and types related to service and adapter management.

## Detailed API Documentation

*(This section is intended to be populated with detailed descriptions of each exported member, possibly generated by TypeDoc or written manually. For now, it serves as a placeholder.)*

### `Microservice` Class

*   **Constructor**: `new Microservice(service: ServiceClass | ServiceClass[], options?: MicroserviceOptions)`
    *   Description: Creates a new Dawai microservice instance.
    *   Parameters:
        *   `service`: A single service class or an array of service classes.
        *   `options?`: Optional `MicroserviceOptions` for configuring the application.
*   **Methods**:
    *   `bootstrap(): Promise<void>`: Initializes the microservice, loads services, and bootstraps transport adapters.
    *   `listen(): Promise<void>`: Starts all enabled transport adapters, making the application ready to handle requests/commands.
    *   `close(): Promise<void>`: Gracefully shuts down the microservice and all its transport adapters.
    *   `registerTransport(adapter: AbstractTransportAdapter<any>): void`: Manually registers a transport adapter instance.
    *   `getServiceInstance(serviceClass?: ServiceClass): ServiceInstance | undefined`: Retrieves the instantiated service instance.
    *   `getTransportAdapters(): AbstractTransportAdapter<any>[]`: Returns all registered transport adapters.
    *   *(... other public methods ...)*

### `AbstractTransportAdapter<TConfig extends TransportAdapterOptions>` Class

*   **Constructor**: `constructor(microserviceOptions: MicroserviceOptions, serviceInstance: ServiceInstance, transportName: keyof MicroserviceOptions)`
    *   Description: Base constructor for transport adapters.
*   **Abstract Methods (to be implemented by subclasses)**:
    *   `bootstrap(): Promise<void>`
    *   `listen(): Promise<void>`
    *   `close(): Promise<void>`
    *   `registerHandler(handlerMeta: HandlerMetadata): void`
*   **Protected Methods (available to subclasses)**:
    *   `isEnabled(): boolean`
    *   `getHandlersByTransport(transportName: string): HandlerMetadata[]`
    *   `getParamsForHandler(methodName: string): ParameterMetadata[]`
    *   *(... other protected utility methods ...)*

### Interfaces

*   **`ServiceInstance`**: Represents an instantiated service class.
*   **`TransportAdapterOptions`**: Base interface for transport-specific options within `MicroserviceOptions`.

---

*Further details will be added here, potentially linking to auto-generated TypeDoc documentation for comprehensive API coverage.*
