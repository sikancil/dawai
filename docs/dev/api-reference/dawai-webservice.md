# API Reference: `@arifwidianto/dawai-webservice`

This section provides a detailed API reference for the `@arifwidianto/dawai-webservice` package. This package provides the `WebServiceTransportAdapter` for building HTTP-based web services (REST APIs, WebSockets, SSE) with the Dawai framework, leveraging Express.js and related middleware.

## Overview

`@arifwidianto/dawai-webservice` allows you to:
*   Expose service methods as HTTP endpoints using `@Crud`, `@Sse`, `@Rpc` decorators.
*   Handle WebSocket connections and events using the `@Ws` decorator.
*   Utilize a rich set of parameter decorators (`@Body`, `@Query`, `@Params`, `@Headers`, etc.) for HTTP request data.
*   Integrate standard Express middleware.
*   Configure CORS, security headers, rate limiting, and more.

## Key Components

### `WebServiceTransportAdapter`
*   **Description**: The transport adapter responsible for handling HTTP, WebSocket, and SSE communications. It sets up an Express server, registers routes based on handler metadata, and manages middleware.
*   **Configuration**: Configured via the `webservice` property in `MicroserviceOptions` (see `WebserviceOptions` in `@arifwidianto/dawai-common`). This includes settings for port, host, HTTPS, CORS, security, body parsing, logging, WebSockets, etc.

### `WebserviceContext`
*   **Description**: The context object injected into web handlers using `@Ctx()`.
*   **Properties**:
    *   `req: Express.Request`: The Express request object.
    *   `res: Express.Response`: The Express response object.
    *   `wsClient?: WebSocket`: The WebSocket client instance (for `@Ws` handlers, if applicable).
    *   `wsServer?: WebSocket.Server`: The WebSocket server instance.
    *   Other transport-specific utilities or state.

### Decorators (from `@arifwidianto/dawai-common`)
*   **`@webservice(options?: WebserviceDecoratorOptions)` (Class Decorator)**: Enables and configures web service transport for a service.
*   **`@Crud(options: CrudHandlerOptions)` (Method Decorator)**: Defines a service method as a RESTful HTTP endpoint.
*   **`@Ws(options: WsHandlerOptions)` (Method Decorator)**: Defines a service method to handle WebSocket events or connections.
*   **`@Sse(options: SseHandlerOptions)` (Method Decorator)**: Defines a service method as a Server-Sent Events stream.
*   **`@Rpc(options: RpcHandlerOptions)` (Method Decorator)**: Defines a service method as an RPC-style HTTP endpoint.

## Detailed API Documentation

*(This section is intended to be populated with more detailed descriptions, possibly generated by TypeDoc or written manually. For now, it serves as a placeholder.)*

### `WebserviceOptions` (from `@arifwidianto/dawai-common`)
*   Detailed breakdown of all configuration options for the WebService transport, including:
    *   `port`, `host`, `https`
    *   `cors` (options for `cors` middleware)
    *   `security` (options for `helmet`, `express-rate-limit`)
    *   `bodyParser` (options for `body-parser` middleware)
    *   `logging` (options for request logging, e.g., `morgan`)
    *   `middleware` (array for custom Express middleware)
    *   `websocket` (options for `express-ws`)
    *   `crud`, `sse`, `rpc` (base paths and other defaults)

### Handler Options (from `@arifwidianto/dawai-common`)
*   `CrudHandlerOptions`
*   `WsHandlerOptions`
*   `SseHandlerOptions`
*   `RpcHandlerOptions`
    *   Detailed breakdown of options for each web-related method decorator.

---

*Further details will be added here, potentially linking to auto-generated TypeDoc documentation for comprehensive API coverage.*
